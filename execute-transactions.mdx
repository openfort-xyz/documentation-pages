export const description =
  "In this guide, we will talk about how to send transaction intents."

# Execute Transactions

In web3 gaming, managing transactions at scale can be a significant challenge.
Transactions are updates to data on the blockchain and are used in games for various purposes, such as adjusting player currency, granting items, and enabling crafting.

## Overview

Openfort transactions are executed from a smart contract wallet and they are referred as "transaction intents".
They are the way to send, track the status, and view details of each on-chain action.

Openfort has developed a robust internal infrastructure capable of handling over 10,000 transactions per second, per game.
This infrastructure includes automated systems for both gasless and non-gasless transactions, which are seamlessly managed through Openfort APIs when players interact with the game.

## How Transactions Work

Transactions are executed by sending an authenticated transaction intent to the Openfort API.
The transaction request contains the necessary information, such as the sender's address, recipient's address, and transaction data.
Openfort's infrastructure verifies the transaction request, updates the blockchain data accordingly, and returns a transaction hash as proof of the transaction.

<div align="center">
  <img alt="TXIntent" src="https://blog-cms.openfort.xyz/uploads/Tx_intent2_e692df6a50.svg" width="50%" height="50%"/>
</div>

## Simple Transaction

To execute a simple transaction via the Openfort API, players just need to send a transaction intent with the necessary details, such as the player, chain id, policy, contract to interact with and its required arguments.
- If the player is using a custodial account, no further action is required from their side. The operation will be processed by Openfort and it will be sent on-chain.
- If the player is using a non-custodial account, given that they are the only ones in possession of the secret key, they must approve the transaction. For that, they will receive a `next_action` with the information that Openfort wants to send on-chain. The player will need to sign it locally send it and send it using the `/v1/sessions/:session/signature` endpoint. If signed correctly, this will successfully authorize a transaction intent for the assigned account.

As an example, let's execute a minting of an asset via a simple transaction API call.
If the player is using a custodial account, no further action is required and we can expect the minting to take place immediately after sending the following call:

<CodeGroup title="Create a transaction intent to mint" tag="POST" label="/v1/transaction_intents">
  ```bash {{ title: 'cURL' }}
    curl https://api.openfort.xyz/v1/transaction_intents \
    -H "Authorization: Bearer $YOUR_SECRET_KEY" \
    -d player=pla_... \
    -d chain_id=80001 \
    -d optimistic=true \
    -d policy=pol_... \
    -d "interactions[contract]=con_..." \
    -d "interactions[function_name]=mint" \
    -d "interactions[function_args][0]=0x63B7...484f"
  ```
</CodeGroup>

However, if the API call was performed by a player using a non-custodial account, the response of the call above would contain a `next_action` parameteras explained above.
That paramter indicates the information that the player needs to sign to approve the transaction intent.
Once signed, the player needs to send such signature using the `/v1/sessions/:session/signature` endpoint.
The player's request must be authenticated with the publishable Openfort key (see `$YOUR_PUBLISHABLE_KEY` in the request below).
For more information about Secret vs Publishable Keys, you can visit out [API keys docs](https://www.openfort.xyz/docs/keys#api-keys).

<CodeGroup title="Sign a transaction intent to mint" tag="POST" label="/v1/transaction_intents/:transaction_intent/signature">
  ```bash {{ title: 'cURL' }}
    curl https://api.openfort.xyz/v1/transaction_intents/tin_.../signature \
    -H "Authorization: Bearer $YOUR_PUBLISHABLE_KEY" \
    -d "signature=0x9330...351c"
  ```
</CodeGroup>

If signed correctly, this will successfully authorize a transaction intent for the assigned account.

## Batched Transactions

One of the many advantages of smart contract wallets is the ability to execute multiple transactions as a single batch.
With batch transactions, you can save time and reduce gas costs by submitting multiple operations at once.

Batch transactions are also safer, thanks to a property known as "atomicity".
This means that either all transactions within the batch will execute or none of them will, ensuring that your operations are executed seamlessly without any room for errors.

<CodeGroup title="Execute a batch transaction" tag="POST" label="/v1/transaction_intents">
  ```bash {{ title: 'cURL' }}
    curl https://api.openfort.xyz/v1/transaction_intent \
    -H "Authorization: Bearer $YOUR_SECRET_KEY" \
    -d player="pla_..." \
    -d chain_id=5 \
    -d interactions[0][contract]="con_..." \
    -d interactions[0][function_name]="mint" \
    -d interactions[0][function_args]="0x63B7...484f" \
    -d interactions[1][contract]="con_..." \
    -d interactions[1][function_name]="mint" \
    -d interactions[1][function_args]="0x63B7...484f"
  ```
</CodeGroup>
